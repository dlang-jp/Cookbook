
<!DOCTYPE html>
<html>    <head>        <META http-equiv="content-type" content="text/html; charset=utf-8">
        <link rel="stylesheet" type="text/css" href="css/proj_docs.css">
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script type="text/javascript" src="js/sidebar.js"></script>
        <script type="text/javascript" src="js/listanchors.js"></script>
        <title>getopt_example</title>
        
        
    </head>
    <body>        
        <div class="container">            
<div class="sidebar-underbar"></div>
<div class="sidebar">    <div class="head">        <h2>cookbook</h2>
        <p><span class="smallprint"><b>version:</b> ~master <span class="separator"><br></span>
            </span>
        </p>
        <p><a href="index.html">overview</a></p>
    </div>
    
    <ul>

	

	<li><a href="cookbook--array_example.html"><span >array_example</span></a></li>



	<li><a href="cookbook--assoc_array_example.html"><span >assoc_array_example</span></a></li>



	<li><a href="cookbook--datetime_example.html"><span >datetime_example</span></a></li>



	<li><a href="cookbook--file_example.html"><span >file_example</span></a></li>



	<li><a href="cookbook--getopt_example.html"><span >getopt_example</span></a></li>



	<li><a href="cookbook--is_example.html"><span >is_example</span></a></li>



	<li><a href="cookbook--process_example.html"><span >process_example</span></a></li>



	<li><a href="cookbook--random_example.html"><span >random_example</span></a></li>



	<li><a href="cookbook--range_example.html"><span >range_example</span></a></li>



	<li><a href="cookbook--regex_example.html"><span >regex_example</span></a></li>



	<li><a href="cookbook--string_example.html"><span >string_example</span></a></li>



	<li><a href="cookbook--uda_example.html"><span >uda_example</span></a></li>





	
	<li class="expand-container open"><a class='expand-toggle' href="#"><span >subpkg</span></a><ul>
		
		

	<li><a href="cookbook-subpkg--subpkg.test.html"><span >test</span></a></li>


	</ul></li>






	
	<li class="expand-container open"><a class='expand-toggle' href="#"><span >windows</span></a><ul>
		
		

	<li><a href="cookbook-windows--windows.basic.html"><span >basic</span></a></li>


	</ul></li>



</ul>
</div>
            <div class="content">                <h1>getopt_example</h1>
                
                <div class="quickindex" id="quickindex"></div>
                
                <div class="ddoc_summary"><span class="d_inlinecode donthyphenate notranslate">std.getopt</span> の使い方についてまとめます。
</div><div class="ddoc_description">実行プログラムの引数を解析することができ、柔軟なプログラム作成を助けます。</div>
<div class="ddoc_examples"><span class="ddoc_examples_header">Examples:</span>
 基本的な引数解析の例です
<pre class="d_code notranslate"><span class="d_comment">// 以下のようにプログラムを実行した場合の例です
</span><span class="d_comment">// app --format=json
</span>string[] args = [<span class="d_string">"app.exe"</span>, <span class="d_string">"--format=json"</span>];

<span class="d_keyword">import</span> std.getopt;

<span class="d_comment">// 
</span>string format;

<span class="d_comment">// 引数の名前、引数を受け付ける変数、説明、で1セットの指定になります
</span><span class="d_comment">// 説明は省略可能です
</span><span class="d_keyword">auto</span> result = getopt(args, <span class="d_string">"format"</span>, <span class="d_string">"format引数の説明になります"</span>, &amp;format);

<span class="d_comment">// --helpなどの引数が指定されたかどうかで分岐することができます
</span><span class="d_keyword">if</span> (result.helpWanted)
{
    <span class="d_comment">// 自動的に引数の説明などを表示します
</span>    std.getopt.defaultGetoptPrinter(<span class="d_string">"プログラム説明"</span>, result.options);
    <span class="d_keyword">return</span>;
}

<span class="d_keyword">assert</span>(format == <span class="d_string">"json"</span>);
</pre>
</div>
<div class="ddoc_examples"><span class="ddoc_examples_header">Examples:</span>
 適度な折り返しを入れてコードフォーマッターでも可読性を保つ例です。
<pre class="d_code notranslate">string[] args = [<span class="d_string">"app.exe"</span>, <span class="d_string">"--format=json"</span>];

<span class="d_keyword">import</span> std.getopt;

string format;

<span class="d_comment">// 以下の記述によってdfmtの有効無効を切り替えることができます
</span><span class="d_comment">// dfmt off
</span><span class="d_keyword">auto</span> result = getopt(
    args,
    <span class="d_comment">// getoptは歴史的経緯によってデフォルトの挙動がcaseInsensitiveですが
</span>    <span class="d_comment">// 多くの場合ではcaseSensitiveなほうが好ましいでしょう
</span>    std.getopt.config.caseSensitive,
    <span class="d_string">"format"</span>, <span class="d_string">"format引数の説明になります"</span>, &amp;format,
);
<span class="d_comment">// dfmt on
</span>
<span class="d_keyword">if</span> (result.helpWanted)
{
    std.getopt.defaultGetoptPrinter(<span class="d_string">"プログラム説明"</span>, result.options);
    <span class="d_keyword">return</span>;
}

<span class="d_keyword">assert</span>(format == <span class="d_string">"json"</span>);
</pre>
</div>

                
            </div>
        </div>
        
        <script type="text/javascript">jQuery(document).ready(listanchors);</script>
        
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
     </body>
</html>