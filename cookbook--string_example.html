
<!DOCTYPE html>
<html>    <head>        <META http-equiv="content-type" content="text/html; charset=utf-8">
        <link rel="stylesheet" type="text/css" href="css/proj_docs.css">
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script type="text/javascript" src="js/sidebar.js"></script>
        <script type="text/javascript" src="js/listanchors.js"></script>
        <title>string_example</title>
        
        
    </head>
    <body>        
        <div class="container">            
<div class="sidebar-underbar"></div>
<div class="sidebar">    <div class="head">        <h2>cookbook</h2>
        <p><span class="smallprint"><b>version:</b> ~master <span class="separator"><br></span>
            </span>
        </p>
        <p><a href="index.html">overview</a></p>
    </div>
    
    <ul>

	

	<li><a href="cookbook--array_example.html"><span >array_example</span></a></li>



	<li><a href="cookbook--assoc_array_example.html"><span >assoc_array_example</span></a></li>



	<li><a href="cookbook--datetime_example.html"><span >datetime_example</span></a></li>



	<li><a href="cookbook--file_example.html"><span >file_example</span></a></li>



	<li><a href="cookbook--getopt_example.html"><span >getopt_example</span></a></li>



	<li><a href="cookbook--is_example.html"><span >is_example</span></a></li>



	<li><a href="cookbook--process_example.html"><span >process_example</span></a></li>



	<li><a href="cookbook--random_example.html"><span >random_example</span></a></li>



	<li><a href="cookbook--range_example.html"><span >range_example</span></a></li>



	<li><a href="cookbook--regex_example.html"><span >regex_example</span></a></li>



	<li><a href="cookbook--string_example.html"><span >string_example</span></a></li>



	<li><a href="cookbook--uda_example.html"><span >uda_example</span></a></li>





	
	<li class="expand-container open"><a class='expand-toggle' href="#"><span >subpkg</span></a><ul>
		
		

	<li><a href="cookbook-subpkg--subpkg.test.html"><span >test</span></a></li>


	</ul></li>






	
	<li class="expand-container open"><a class='expand-toggle' href="#"><span >windows</span></a><ul>
		
		

	<li><a href="cookbook-windows--windows.basic.html"><span >basic</span></a></li>


	</ul></li>



</ul>
</div>
            <div class="content">                <h1>string_example</h1>
                
                <div class="quickindex" id="quickindex"></div>
                
                <div class="ddoc_summary">文字列操作についてまとめます。
</div><div class="ddoc_section_nonstandard"><span class="ddoc_section_nonstandard_header">TODO:</span>
置換(replace)</div>
<div class="ddoc_examples"><span class="ddoc_examples_header">Examples:</span>
 文字列の連結
<div class="ddoc_blankline"></div>

事前に長さの分からない文字列を構築する場合、<span class="d_inlinecode donthyphenate notranslate">std.array</span> の <span class="d_inlinecode donthyphenate notranslate">appender</span> を使います。
<div class="ddoc_blankline"></div>

<span class="d_inlinecode donthyphenate notranslate">appender</span> : <a href="https://dlang.org/phobos/std_array.html#appender">https://dlang.org/phobos/std_array.html#appender</a>
<pre class="d_code notranslate"><span class="d_keyword">assert</span>(<span class="d_string">"ABC"</span> ~ <span class="d_string">"DEF"</span> == <span class="d_string">"ABCDEF"</span>);

<span class="d_comment">// 多くの文字を連結するときはappenderを使います
</span>
<span class="d_keyword">import</span> std.array : appender;

<span class="d_keyword">auto</span> buffer = appender!string;

buffer.put(<span class="d_string">"https://"</span>);
buffer.put(<span class="d_string">"github.com"</span>);
buffer.put(<span class="d_string">"/dlang"</span>);

<span class="d_keyword">assert</span>(buffer.data == <span class="d_string">"https://github.com/dlang"</span>);
</pre>
</div>
<div class="ddoc_examples"><span class="ddoc_examples_header">Examples:</span>
 書式化文字列
<div class="ddoc_blankline"></div>

<span class="d_inlinecode donthyphenate notranslate">std.format</span> の <span class="d_inlinecode donthyphenate notranslate">format</span> を使います。
<div class="ddoc_blankline"></div>

<a href="https://dlang.org/phobos/std_format.html#.format">https://dlang.org/phobos/std_format.html#.format</a>
<pre class="d_code notranslate"><span class="d_keyword">import</span> std.format : format;

<span class="d_keyword">int</span> n = 10;
<span class="d_keyword">float</span> f = 1.5;
string url = <span class="d_string">"https://github.com"</span>;

<span class="d_keyword">auto</span> text = format!<span class="d_string">"%d, %f, %s"</span>(n, f, url);

<span class="d_keyword">assert</span>(text == <span class="d_string">"10, 1.500000, https://github.com"</span>, text);
</pre>
</div>
<div class="ddoc_examples"><span class="ddoc_examples_header">Examples:</span>
 完全一致、辞書順での比較
<pre class="d_code notranslate"><span class="d_keyword">auto</span> text = <span class="d_string">"ABC"</span>;
<span class="d_keyword">assert</span>(text == <span class="d_string">"ABC"</span>);
<span class="d_keyword">assert</span>(text &lt; <span class="d_string">"abc"</span>);
</pre>
</div>
<div class="ddoc_examples"><span class="ddoc_examples_header">Examples:</span>
 大文字小文字を無視して比較
<div class="ddoc_blankline"></div>

<span class="d_inlinecode donthyphenate notranslate">std.uni</span> の <span class="d_inlinecode donthyphenate notranslate">icmp</span> を使います
<div class="ddoc_blankline"></div>

<span class="d_inlinecode donthyphenate notranslate">icmp</span> : <a href="https://dlang.org/phobos/std_uni.html#icmp">https://dlang.org/phobos/std_uni.html#icmp</a>
<pre class="d_code notranslate"><span class="d_keyword">import</span> std.uni;

<span class="d_keyword">auto</span> text = <span class="d_string">"ABC"</span>;
<span class="d_keyword">assert</span>(icmp(text, <span class="d_string">"abc"</span>) == 0);
<span class="d_keyword">assert</span>(icmp(text, <span class="d_string">"ab"</span>) == 1);
<span class="d_keyword">assert</span>(icmp(text, <span class="d_string">"abcd"</span>) == -1);

<span class="d_comment">// 使い方、戻り値のイメージ
</span><span class="d_comment">// "ABC" &gt; "ab"
</span><span class="d_comment">// "ABC" - "ab" &gt; 0
</span><span class="d_keyword">assert</span>(icmp(text, <span class="d_string">"abc"</span>) == 0);
<span class="d_keyword">assert</span>(icmp(text, <span class="d_string">"ab"</span>) &gt; 0);
<span class="d_keyword">assert</span>(icmp(text, <span class="d_string">"abcd"</span>) &lt; 0);
</pre>
</div>
<div class="ddoc_examples"><span class="ddoc_examples_header">Examples:</span>
 「で始まる」「で終わる」の例
<div class="ddoc_blankline"></div>

<span class="d_inlinecode donthyphenate notranslate">std.algorithm</span> の <span class="d_inlinecode donthyphenate notranslate">startsWith</span>, <span class="d_inlinecode donthyphenate notranslate">endsWith</span> を使います。
<div class="ddoc_blankline"></div>

<span class="d_inlinecode donthyphenate notranslate">startsWith</span> : <a href="https://dlang.org/phobos/std_algorithm_searching.html#.startsWith">https://dlang.org/phobos/std_algorithm_searching.html#.startsWith</a><br>
<span class="d_inlinecode donthyphenate notranslate">endsWith</span> : <a href="https://dlang.org/phobos/std_algorithm_searching.html#.endsWith">https://dlang.org/phobos/std_algorithm_searching.html#.endsWith</a>
<pre class="d_code notranslate"><span class="d_keyword">import</span> std.algorithm : startsWith, endsWith;

<span class="d_keyword">auto</span> text = <span class="d_string">"std.algorithm"</span>;

<span class="d_comment">// ～で始まる
</span><span class="d_keyword">assert</span>(startsWith(text, <span class="d_string">"std."</span>));
<span class="d_keyword">assert</span>(text.startsWith(<span class="d_string">"std."</span>));

<span class="d_comment">// ～で終わる
</span><span class="d_keyword">assert</span>(endsWith(text, <span class="d_string">".algorithm"</span>));
<span class="d_keyword">assert</span>(text.endsWith(<span class="d_string">".algorithm"</span>));
</pre>
</div>
<div class="ddoc_examples"><span class="ddoc_examples_header">Examples:</span>
 文字列が出現する位置を検索します。
<div class="ddoc_blankline"></div>

<span class="d_inlinecode donthyphenate notranslate">std.string</span> の <span class="d_inlinecode donthyphenate notranslate">indexOf</span> を使用します。
<div class="ddoc_blankline"></div>

<span class="d_inlinecode donthyphenate notranslate">indexOf</span> : <a href="https://dlang.org/phobos/std_string.html#.indexOf">https://dlang.org/phobos/std_string.html#.indexOf</a>
<pre class="d_code notranslate"><span class="d_keyword">import</span> std.string : indexOf;

<span class="d_keyword">auto</span> text = <span class="d_string">"std.algorithm.searching"</span>;

<span class="d_keyword">assert</span>(indexOf(text, <span class="d_string">"search"</span>) == 14);
<span class="d_keyword">assert</span>(text.indexOf(<span class="d_string">"search"</span>) == 14);

<span class="d_comment">// 大文字小文字を無視することもできます
</span><span class="d_comment">// std.typeconsからYesやNoをimportして使います
</span><span class="d_keyword">import</span> std.typecons : Yes, No;
<span class="d_keyword">import</span> std.string : CaseSensitive;

<span class="d_keyword">auto</span> url = <span class="d_string">"https://github.com/dlang/dmd"</span>;
<span class="d_keyword">assert</span>(url.indexOf(<span class="d_string">"GITHUB"</span>, No.CaseSensitive));
</pre>
</div>

                
            </div>
        </div>
        
        <script type="text/javascript">jQuery(document).ready(listanchors);</script>
        
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
     </body>
</html>